# 🏛️ نظام إدارة قاعات الأفراح - سلطنة عمان

## 📋 نظرة عامة على المشروع

نظام SaaS متعدد المستأجرين لإدارة قاعات الأفراح في سلطنة عمان. يوفر النظام لوحتي تحكم منفصلتين:
- **لوحة تحكم السوبر أدمن**: لإدارة المستأجرين والباقات
- **لوحة تحكم المستأجرين**: لإدارة القاعات والحجوزات

## 🚀 المميزات الرئيسية

### 🎁 نظام الباقات والاشتراكات
- **3 باقات أساسية**: Basic, Professional, Enterprise
- **تحكم في المميزات**: عدد القاعات، الموظفين، الحجوزات
- **حدود التخزين**: للصور والمرفقات
- **أسعار شهرية وسنوية**

### 🏢 إدارة المستأجرين
- **تسجيل مستأجرين جدد**
- **إدارة الحالة**: نشط، غير نشط، معلق
- **فترة تجريبية مجانية**
- **إعدادات مخصصة لكل مستأجر**

### 📅 إدارة القاعات والحجوزات
- **إضافة قاعات متعددة**
- **حجز القاعات مع تحديد التاريخ والوقت**
- **إدارة العملاء**
- **خدمات إضافية للقاعات**

### 💰 نظام الفواتير
- **إنشاء فواتير تلقائية**
- **تتبع المدفوعات**
- **حالة الفواتير**: معلق، جزئي، مدفوع، متأخر

### 👥 إدارة الموظفين
- **أدوار مختلفة**: مدير، موظف
- **صلاحيات محددة**
- **تتبع تسجيل الدخول**

## 🛠️ التقنيات المستخدمة

### Backend
- **Laravel 12** - إطار العمل الرئيسي
- **MySQL** - قاعدة البيانات
- **Laravel Sanctum** - مصادقة API
- **Spatie Multi-tenancy** - إدارة المستأجرين المتعددين

### Frontend (سيتم إضافته لاحقاً)
- **React.js** - واجهة المستخدم
- **Tailwind CSS** - التصميم
- **Axios** - طلبات HTTP

## 📦 الباقات المتاحة

| الباقة | عدد القاعات | عدد الموظفين | المميزات | السعر الشهري |
|--------|-------------|--------------|----------|--------------|
| Basic | 1 | 1 | حجوزات، تقويم | 15 ريال عماني |
| Professional | 3 | 5 | + فواتير، تقارير | 30 ريال عماني |
| Enterprise | غير محدود | غير محدود | + تخصيص العلامة التجارية، وصول API | 50 ريال عماني |

## 🗄️ هيكل قاعدة البيانات

### الجداول الرئيسية (Landlord DB)
- `tenants` - المستأجرين
- `packages` - الباقات
- `subscriptions` - الاشتراكات

### الجداول لكل مستأجر (Tenant DB)
- `halls` - القاعات
- `bookings` - الحجوزات
- `customers` - العملاء
- `invoices` - الفواتير
- `services` - الخدمات
- `staff_users` - الموظفين

## 🚀 التثبيت والتشغيل

### المتطلبات
- PHP 8.2+
- Composer
- MySQL 8.0+
- Node.js 18+

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone <repository-url>
cd halls
```

2. **تثبيت التبعيات**
```bash
composer install
npm install
```

3. **إعداد البيئة**
```bash
cp .env.example .env
php artisan key:generate
```

4. **تحديث إعدادات قاعدة البيانات في .env**
```env
DB_CONNECTION=mysql
DB_HOST=95.179.165.50
DB_PORT=3306
DB_DATABASE=halls
DB_USERNAME=admin
DB_PASSWORD=gN}Y5E-yq!E7
```

5. **تشغيل الـ Migrations**
```bash
php artisan migrate
```

6. **تشغيل الـ Seeders**
```bash
php artisan db:seed
```

7. **تشغيل الخادم**
```bash
php artisan serve
```

## 🔐 بيانات تسجيل الدخول الافتراضية

### السوبر أدمن
- **البريد الإلكتروني**: admin@halls.om
- **كلمة المرور**: admin123

## 📡 API Endpoints

### المصادقة
- `POST /api/auth/login` - تسجيل الدخول
- `POST /api/auth/register` - تسجيل حساب جديد
- `POST /api/auth/logout` - تسجيل الخروج
- `GET /api/auth/me` - بيانات المستخدم الحالي

### القاعات
- `GET /api/halls` - قائمة القاعات
- `POST /api/halls` - إنشاء قاعة جديدة
- `GET /api/halls/{id}` - تفاصيل قاعة
- `PUT /api/halls/{id}` - تحديث قاعة
- `DELETE /api/halls/{id}` - حذف قاعة

### الحجوزات
- `GET /api/bookings` - قائمة الحجوزات
- `POST /api/bookings` - إنشاء حجز جديد
- `GET /api/bookings/{id}` - تفاصيل حجز
- `PUT /api/bookings/{id}` - تحديث حجز
- `DELETE /api/bookings/{id}` - حذف حجز
- `POST /api/bookings/{id}/confirm` - تأكيد حجز
- `POST /api/bookings/{id}/cancel` - إلغاء حجز

### العملاء
- `GET /api/customers` - قائمة العملاء
- `POST /api/customers` - إنشاء عميل جديد
- `GET /api/customers/{id}` - تفاصيل عميل
- `PUT /api/customers/{id}` - تحديث عميل
- `DELETE /api/customers/{id}` - حذف عميل

### الخدمات
- `GET /api/services` - قائمة الخدمات
- `POST /api/services` - إنشاء خدمة جديدة
- `GET /api/services/{id}` - تفاصيل خدمة
- `PUT /api/services/{id}` - تحديث خدمة
- `DELETE /api/services/{id}` - حذف خدمة

### الفواتير
- `GET /api/invoices` - قائمة الفواتير
- `POST /api/invoices` - إنشاء فاتورة جديدة
- `GET /api/invoices/{id}` - تفاصيل فاتورة
- `PUT /api/invoices/{id}` - تحديث فاتورة
- `DELETE /api/invoices/{id}` - حذف فاتورة
- `POST /api/invoices/{id}/pay` - دفع فاتورة

## 🎨 واجهة المستخدم

### لوحة تحكم السوبر أدمن
- `/admin` - لوحة التحكم الرئيسية
- `/admin/tenants` - إدارة المستأجرين
- `/admin/packages` - إدارة الباقات

### لوحة تحكم المستأجرين
- `/dashboard` - لوحة التحكم الرئيسية
- `/halls` - إدارة القاعات
- `/bookings` - إدارة الحجوزات
- `/customers` - إدارة العملاء
- `/invoices` - إدارة الفواتير

## 🔧 التطوير

### تشغيل الاختبارات
```bash
php artisan test
```

### تشغيل في وضع التطوير
```bash
php artisan serve
npm run dev
```

### إنشاء مستخدم جديد
```bash
php artisan make:user
```

## 📝 الترخيص

هذا المشروع مرخص تحت رخصة MIT.

## 👥 المساهمة

نرحب بالمساهمات! يرجى قراءة دليل المساهمة قبل البدء.

## 📞 الدعم

للحصول على الدعم، يرجى التواصل عبر:
- البريد الإلكتروني: support@halls.om
- الهاتف: +968 XXXX XXXX

---

**تم التطوير بواسطة فريق تطوير سلطنة عمان** 🇴🇲
