# ูุธุงู ุงููุณุชุฃุฌุฑูู - ูุธุงู ุฅุฏุงุฑุฉ ูุงุนุงุช ุงูุฃูุฑุงุญ ๐๏ธ

## ูุธุฑุฉ ุนุงูุฉ ๐
ูุฐุง ุงููุธุงู ูุฏุนู ุฅูุดุงุก ุญุณุงุจุงุช ูููุณุชุฃุฌุฑูู ูุน ููุงุนุฏ ุจูุงูุงุช ูููุตูุฉ ููู ูุณุชุฃุฌุฑ. ูุชู ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ ุชููุงุฆูุงู ุนูุฏ ุชุณุฌูู ูุณุชุฃุฌุฑ ุฌุฏูุฏ.

## ูุธุงู ุชุณููุฉ ููุงุนุฏ ุงูุจูุงูุงุช ๐๏ธ
- **ุงูููุท ุงูุฌุฏูุฏ**: `halls_` + ุงุณู ุงููุดุฑูุน
- **ูุซุงู**: ุฅุฐุง ูุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู `ahmed@company.com`ุ ุณุชููู ูุงุนุฏุฉ ุงูุจูุงูุงุช `halls_ahmedcompanycom`

## ุงููุณุงุฑุงุช (Routes) ๐

### ุตูุญุงุช ุงูููุจ
```php
// ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
GET /login

// ุตูุญุฉ ุงูุชุณุฌูู ุงูุฌุฏูุฏ
GET /register

// ููุญุฉ ุงูุชุญูู (ุชุชุทูุจ ุชุณุฌูู ุฏุฎูู)
GET /dashboard
```

### ุนูููุงุช ุงููุตุงุฏูุฉ
```php
// ุชุณุฌูู ุงูุฏุฎูู
POST /login

// ุชุณุฌูู ุงูุฎุฑูุฌ
POST /logout

// ุชุณุฌูู ูุณุชุฃุฌุฑ ุฌุฏูุฏ
POST /register
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐พ

### ุฌุฏูู ุงููุณุชุฎุฏููู (staff_users)
```sql
CREATE TABLE staff_users (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    role VARCHAR(50) NOT NULL DEFAULT 'staff',
    is_active BOOLEAN NOT NULL DEFAULT true,
    remember_token VARCHAR(100) NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);
```

### ุฌุฏูู ุทูุจุงุช ุงููุณุชุฃุฌุฑูู (tenant_requests)
```sql
CREATE TABLE tenant_requests (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    db_name VARCHAR(255) NOT NULL,
    status VARCHAR(50) NOT NULL DEFAULT 'pending',
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    FOREIGN KEY (user_id) REFERENCES staff_users (id) ON DELETE CASCADE
);
```

## ุขููุฉ ุฅูุดุงุก ููุงุนุฏ ุงูุจูุงูุงุช ูููุณุชุฃุฌุฑูู โ๏ธ

### 1. ุชุณุฌูู ุงููุณุชุฃุฌุฑ
ุนูุฏ ุชุณุฌูู ูุณุชุฃุฌุฑ ุฌุฏูุฏุ ูุชู:
- ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ ูู ุฌุฏูู `staff_users`
- ุฅูุดุงุก ุณุฌู ูู ุฌุฏูู `tenant_requests` ูุญุชูู ุนูู ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุทููุจ ุฅูุดุงุคูุง

### 2. ูุนุงูุฌุฉ ุงูุทูุจุงุช (ุงููุฑูู ุฌูุจ)
- ูุชู ุชุดุบูู ุงูุฃูุฑ `tenants:process-requests` ูู ุฏูููุฉ
- ูููู ุงูุฃูุฑ ุจูุฑุงุกุฉ ุงูุทูุจุงุช ุงููุนููุฉ ูู ุฌุฏูู `tenant_requests`
- ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ ููู ุทูุจ ุจุงุณุชุฎุฏุงู ุงูููุท `halls_*`
- ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู `completed`

## ุงูุฃูุงูุฑ (Commands) ๐ง

### ูุนุงูุฌุฉ ุทูุจุงุช ุงููุณุชุฃุฌุฑูู
```bash
php artisan tenants:process-requests
```

## ุงููููุงุช ุงูุฑุฆูุณูุฉ ๐

### 1. ุชุณุฌูู ุงููุณุชุฃุฌุฑูู
- `app/Http/Controllers/Web/AuthController.php`: ูุญุชูู ุนูู ููุทู ุชุณุฌูู ุงููุณุชุฃุฌุฑูู ูุฅูุดุงุก ุทูุจุงุช ููุงุนุฏ ุงูุจูุงูุงุช

### 2. ูุนุงูุฌุฉ ุงูุทูุจุงุช
- `app/Console/Commands/ProcessTenantRequests.php`: ุงูุฃูุฑ ุงููุณุคูู ุนู ุฅูุดุงุก ููุงุนุฏ ุงูุจูุงูุงุช ูููุณุชุฃุฌุฑูู

### 3. ุชุณุฌูู ุงูุฃูุงูุฑ
- `app/Console/Kernel.php`: ุชุณุฌูู ุงูุฃูุฑ ููุชุดุบูู ุงูุชููุงุฆู ูู ุฏูููุฉ

## ููุงุญุธุงุช ูุงูุฉ โ๏ธ
- ูุฌุจ ุงูุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ูุงููุฉ ูุฅูุดุงุก ููุงุนุฏ ุจูุงูุงุช ุฌุฏูุฏุฉ
- ูุชู ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุณููุฉ `halls_` ูุชูููุฒ ููุงุนุฏ ุจูุงูุงุช ุงููุณุชุฃุฌุฑูู
- ูุฌุจ ุชุดุบูู ุงููุฑูู ุฌูุจ ุจุดูู ุตุญูุญ ูุถูุงู ูุนุงูุฌุฉ ุงูุทูุจุงุช 